<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø§Ù„Ø¯ÙØ¹ - Ù…ØªØ¬Ø± Ù†ÙˆØ¬</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Tajawal', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .checkout-container {
      max-width: 1400px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    .checkout-header {
      background: linear-gradient(135deg, #5000c0, #7000d0);
      color: white;
      padding: 30px;
      text-align: center;
      position: relative;
    }

    .checkout-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
      opacity: 0.3;
    }

    .checkout-header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 10px;
      position: relative;
      z-index: 1;
    }

    .checkout-header p {
      font-size: 1.1rem;
      opacity: 0.9;
      position: relative;
      z-index: 1;
    }

    .checkout-wrapper {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 40px;
      padding: 40px;
    }

    .checkout-form {
      background: white;
      padding: 40px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(80, 0, 192, 0.1);
    }

    .form-section {
      margin-bottom: 30px;
    }

    .form-section h3 {
      color: #5000c0;
      font-size: 1.3rem;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .form-group {
      margin-bottom: 20px;
      position: relative;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 500;
      font-size: 0.95rem;
    }

    .form-group input,
    .form-group select {
      width: 100%;
      padding: 15px 20px;
      border: 2px solid #e1e5e9;
      border-radius: 10px;
      font-size: 16px;
      font-family: 'Tajawal', sans-serif;
      transition: all 0.3s ease;
      background: #fafbfc;
    }

    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: #5000c0;
      background: white;
      box-shadow: 0 0 0 3px rgba(80, 0, 192, 0.1);
      transform: translateY(-2px);
    }

    .form-group input:valid {
      border-color: #28a745;
    }

    .form-group .input-icon {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #999;
      pointer-events: none;
    }

    .form-group input.has-icon {
      padding-left: 50px;
    }

    .location-selector {
      position: relative;
    }

    .location-info {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 8px;
      padding: 15px;
      margin-top: 10px;
      display: none;
    }

    .location-info.show {
      display: block;
      animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .payment-info {
      background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
      border: 2px solid #28a745;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      position: relative;
      overflow: hidden;
    }

    .payment-info::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: #28a745;
    }

    .payment-info h4 {
      color: #28a745;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .submit-btn {
      background: linear-gradient(135deg, #5000c0, #7000d0);
      color: white;
      border: none;
      padding: 18px 40px;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(80, 0, 192, 0.3);
    }

    .submit-btn:active {
      transform: translateY(0);
    }

    .submit-btn.loading {
      opacity: 0.8;
      cursor: not-allowed;
      pointer-events: none;
    }

    .submit-btn.loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin: -10px 0 0 -10px;
      border: 2px solid transparent;
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .invoice-box {
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(80, 0, 192, 0.1);
      position: sticky;
      top: 20px;
      height: fit-content;
    }

    .invoice-header {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      padding: 25px;
      border-radius: 15px 15px 0 0;
      border-bottom: 1px solid #dee2e6;
    }

    .invoice-header h2 {
      color: #5000c0;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .invoice-content {
      padding: 25px;
    }

    .invoice-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    .invoice-table th,
    .invoice-table td {
      padding: 12px;
      text-align: right;
      border-bottom: 1px solid #e9ecef;
    }

    .invoice-table th {
      background: #f8f9fa;
      font-weight: 600;
      color: #495057;
    }

    .invoice-table .product-name {
      font-weight: 500;
      color: #333;
    }

    .invoice-table .quantity {
      background: #e3f2fd;
      border-radius: 20px;
      padding: 4px 12px;
      font-size: 0.9rem;
      font-weight: 600;
      color: #1976d2;
      display: inline-block;
    }

    .invoice-summary {
      border-top: 2px solid #e9ecef;
      padding-top: 20px;
    }

    .summary-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      font-size: 0.95rem;
    }

    .summary-row.total {
      font-size: 1.2rem;
      font-weight: 700;
      color: #5000c0;
      border-top: 2px solid #5000c0;
      padding-top: 15px;
      margin-top: 10px;
    }

    .summary-row .label {
      color: #666;
    }

    .summary-row .value {
      font-weight: 600;
      color: #333;
    }

    .summary-row.discount .value {
      color: #28a745;
    }

    .summary-row.shipping .value {
      color: #fd7e14;
    }

    .print-btn {
      background: linear-gradient(135deg, #28a745, #20c997);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 8px;
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      width: 100%;
      margin-top: 20px;
      transition: all 0.3s ease;
    }

    .print-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
    }

    .empty-cart {
      text-align: center;
      padding: 40px;
      color: #666;
    }

    .empty-cart i {
      font-size: 4rem;
      color: #ddd;
      margin-bottom: 20px;
    }

    .progress-bar {
      background: #e9ecef;
      height: 4px;
      border-radius: 2px;
      overflow: hidden;
      margin-bottom: 30px;
    }

    .progress-fill {
      background: linear-gradient(90deg, #5000c0, #7000d0);
      height: 100%;
      width: 75%;
      border-radius: 2px;
      transition: width 0.3s ease;
    }

    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #28a745;
      color: white;
      padding: 15px 25px;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transform: translateX(400px);
      transition: transform 0.3s ease;
      z-index: 1000;
    }

    .toast.show {
      transform: translateX(0);
    }

    .toast.error {
      background: #dc3545;
    }

    @media (max-width: 1024px) {
      .checkout-wrapper {
        grid-template-columns: 1fr;
        gap: 30px;
      }
      
      .invoice-box {
        position: static;
      }
    }

    @media (max-width: 768px) {
      body {
        padding: 10px;
      }
      
      .checkout-header {
        padding: 20px;
      }
      
      .checkout-header h1 {
        font-size: 2rem;
      }
      
      .checkout-wrapper {
        padding: 20px;
        gap: 20px;
      }
      
      .checkout-form,
      .invoice-content {
        padding: 25px;
      }
    }
  </style>
</head>
<body>
 <form id="checkout-form" action="https://formspree.io/f/xjkrapjw" method="POST">
  <input type="text" id="name" name="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
  <input type="email" id="email" name="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
  <input type="text" id="phone" name="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
  <input type="text" id="address" name="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" required>
  <textarea name="ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨" id="orderDetails" readonly></textarea>
  <input type="hidden" name="_template" value="table">
  <input type="hidden" name="_captcha" value="false">
  <button type="submit">Ø£ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ âœ…</button>
</form>


<div class="checkout-container">
  <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
  <div class="checkout-header">
    <h1><i class="fas fa-shopping-cart"></i> Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h1>
    <p>Ø£ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ø¥ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¨Ø£Ù…Ø§Ù†</p>
  </div>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
  <div class="progress-bar">
    <div class="progress-fill"></div>
  </div>

  <div class="checkout-wrapper">
    <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨ -->
    <div class="checkout-form">
      <form id="checkout-form">
        <!-- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
        <div class="form-section">
          <h3><i class="fas fa-user"></i> Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>
          
          <div class="form-group">
            <label for="name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
            <div style="position: relative;">
              <i class="fas fa-user input-icon"></i>
              <input type="text" id="name" name="name" class="has-icon" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" required>
            </div>
          </div>

          <div class="form-group">
            <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
            <div style="position: relative;">
              <i class="fas fa-envelope input-icon"></i>
              <input type="email" id="email" name="email" class="has-icon" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
            </div>
          </div>

          <div class="form-group">
            <label for="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</label>
            <div style="position: relative;">
              <i class="fas fa-phone input-icon"></i>
              <input type="text" id="phone" name="phone" class="has-icon" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ" required>
            </div>
          </div>

          <div class="form-group">
            <label for="address">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„ *</label>
            <div style="position: relative;">
              <i class="fas fa-map-marker-alt input-icon"></i>
              <input type="text" id="address" name="address" class="has-icon" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù†Ùƒ Ø¨Ø§Ù„ØªÙØµÙŠÙ„" required>
            </div>
          </div>
        </div>

        <!-- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø­Ù† -->
        <div class="form-section">
          <h3><i class="fas fa-truck"></i> Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø­Ù†</h3>
          
          <div class="form-group">
            <label for="locationSelect">Ø§Ø®ØªØ± Ù…Ù†Ø·Ù‚ØªÙƒ:</label>
            <select id="locationSelect">
              <option value="">-- Ø§Ø®ØªØ± --</option>
              <option value="30.0444,31.2357">Ø§Ù„Ø¯Ù‚ÙŠ</option>
              <option value="30.0566,31.2394">ÙˆØ³Ø· Ø§Ù„Ø¨Ù„Ø¯</option>
              <option value="30.0609,31.2197">Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ</option>
              <option value="29.9650,31.2750">Ø´ Ø§Ø¨Ùˆ Ø¨Ø±ÙŠÙƒ</option>
              <option value="29.9680,31.2720">Ø´ Ø§Ù„Ù†ØµØ±</option>
              <option value="29.9700,31.2730">Ù…Ù†Ø·Ù‚Ø© Ø¹Ù…Ø§Ø±Ø© Ø§Ù„Ø¨Ø±Ø¬</option>
              <option value="29.9720,31.2760">Ø´ Ø§Ù„Ù„Ø§Ø³ÙŠÙ„ÙƒÙ‰</option>
              <option value="29.9730,31.2770">Ù…Ù†Ø·Ù‚Ø© Ø¹Ù…Ø§Ø±Ø§Øª Ø§Ù„Ù„Ø§Ø³ÙŠÙ„ÙƒÙ‰</option>
              <option value="29.9740,31.2780">Ù…Ø´ØªØ´ÙÙ‰ ØªØ¨Ø§Ø±Ùƒ</option>
              <option value="29.9750,31.2790">Ø´ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¬Ù†Ø§Ø¦Ù‰</option>
              <option value="29.9760,31.2800">Ø´ Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ø³ÙˆØ±Ù‰</option>
              <option value="29.9770,31.2810">Ù…ÙŠØ¯Ø§Ù† ØµÙ‚Ø± Ù‚Ø±ÙŠØ´</option>
              <option value="29.9780,31.2820">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ©</option>
              <option value="29.9790,31.2830">Ø´ Ù…Ø±ÙƒØ² Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø¨Ø³Ø§ØªÙŠÙ†</option>
              <option value="29.9800,31.2840">Ù…Ù†Ø·Ù‚Ø© Ø¹Ù…Ø§Ø±Ø§Ø© Ø§Ù„Ø§Ù„Ù†ÙŠØ§Ø¨Ø©</option>
              <option value="29.9810,31.2850">Ø´ Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ÙˆØ§Ø­Ø¯</option>
              <option value="29.9820,31.2860">Ù… Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
              <option value="29.9830,31.2870">Ø´ Ù†ÙˆØ± Ø§Ù„Ø¯ÙŠÙ†</option>
              <option value="29.9840,31.2880">Ø´ Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ù†Ø¹Ù… Ø±ÙŠØ§Ø¶</option>
              <option value="29.9850,31.2890">Ù…ÙŠØ¯Ø§Ù† ÙÙˆÙ†ØªØ§Ù†Ø§</option>
              <option value="29.9860,31.2900">Ø¬Ø±Ø§Ù†Ø¯ Ù…ÙˆÙ„</option>
              <option value="29.9870,31.2910">Ù…Ù†Ø·Ù‚Ø© ÙÙƒØªÙˆØ±ÙŠØ§</option>
              <option value="30.0300,31.2200">Ù…Ù†Ø·Ù‚Ø© Ø¯Ø¬Ù„Ø©</option>
              <option value="29.9890,31.2930">Ø´ 233</option>
              <option value="29.9900,31.2940">Ù†ÙŠØ±ÙƒÙˆ</option>
              <option value="29.9910,31.2950">Ø´ Ø§Ù„Ø²Ù‡Ø±Ø§Ø¡</option>
              <option value="29.9920,31.2960">Ø§Ù„Ù…Ø¬Ù…Ø¹ Ø§Ù„ØªØ¬Ø§Ø±Ù‰</option>
              <option value="29.9930,31.2970">Ø´ Ø§Ù„ 50 Ø§Ù…Ø§Ù…Ù‰ ÙˆØ®Ù„ÙÙ‰</option>
              <option value="29.9940,31.2980">Ù…Ù†Ø·Ù‚Ø© Ø®Ù„Ù Ø´ 90</option>
              <option value="29.9950,31.2990">Ù…Ù†Ø·Ù‚Ø© Ø¨ÙŠØªØ´Ùˆ</option>
              <option value="29.9960,31.3000">Ø´ Ø§Ù„ØªØ¬Ø§Ø±Ù‰ ØªØ¨Ø§Ø±Ùƒ</option>
              <option value="29.9970,31.3010">Ø´ Ø§Ù„Ø³Ø¹Ø§Ø¯Ø©</option>
              <option value="29.9980,31.3020">Ø´ ÙƒØ§Ø±ÙÙˆØ±</option>
              <option value="29.9990,31.3030">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¹Ø±Ø§Ø¬ Ø§Ù„Ø¹Ù„ÙˆÙ‰ ÙˆØ§Ù„Ø³ÙÙ„Ù‰</option>
              <option value="30.0000,31.3040">Ø´ Ø¹Ù„Ù‰ Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ²</option>
              <option value="30.0010,31.3050">Ù…ÙŠØ¯Ø§Ù† Ø§Ø¨Ùˆ Ø¹Ø¨Ø¯Ø©</option>
              <option value="30.0020,31.3060">Ø§Ø±Ø¶ Ø§Ù„Ø¨ØµØ±Ù‰</option>
              <option value="30.0030,31.3070">Ø´ Ø§Ø­Ù…Ø¯ Ø²ÙƒÙ‰</option>
              <option value="30.0040,31.3080">Ø´ Ø­Ø³Ù†ÙŠÙ† Ø¯Ø³ÙˆÙ‚Ù‰</option>
              <option value="30.0050,31.3090">Ø´ 9 Ø¨</option>
              <option value="30.0060,31.3100">Ø´ 9</option>
              <option value="29.9600,31.2500">Ø«ÙƒÙ†Ø§Øª Ø§Ù„Ù…Ø¹Ø§Ø¯Ù‰</option>
              <option value="29.9610,31.2510">Ù…ÙŠØ¯Ø§Ù† Ø§Ù„Ø­Ø±ÙŠØ©</option>
              <option value="29.9620,31.2520">Ø´ 105 Ù…ÙŠØ¯Ø§Ù† Ø§Ù„Ø§ØªØ­Ø§Ø¯</option>
              <option value="29.9630,31.2530">Ø´ 77 Ø¬Ø§Ù…Ø¹ Ø§Ù„Ø¹Ø±Ø¨</option>
              <option value="29.9640,31.2540">Ø´ Ø§Ù„Ù…Ù„Ø§Ø¹Ø¨</option>
              <option value="29.9650,31.2550">Ø´ Ø¹Ø²Ø¨Ø© Ø§Ù„ÙˆØ±Ø¯</option>
              <option value="29.9660,31.2560">Ø´ Ø§Ù„Ø¨Ø³Ø§ØªÙŠÙ†</option>
              <option value="29.9670,31.2570">Ø´Ø±ÙƒØ© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡</option>
              <option value="29.9680,31.2580">Ø³ÙˆÙ‚ Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø¨Ø·</option>
              <option value="29.9690,31.2590">Ø´ Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø¨Ø·</option>
              <option value="29.9700,31.2600">Ø´ Ø§Ù„Ù…Ù„Ù</option>
              <option value="29.9710,31.2610">Ø´ Ø³ÙˆÙ‚ Ø¯Ø§Ø± Ø§Ù„Ø³Ù„Ø§Ù…</option>
              <option value="29.9720,31.2620">Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø²Ø±Ø§Ø¹Ù‰</option>
              <option value="29.9730,31.2630">Ù…ÙˆÙ‚Ù Ø§Ù„Ù…Ø·Ø¨Ø¹Ø©</option>
              <option value="29.9740,31.2640">Ø§ÙƒØ§Ø¯Ù…ÙŠØ© Ø§Ù„Ø³Ø§Ø¯Ø§Øª</option>
              <option value="29.9750,31.2650">Ù… Ø¹Ù…Ø§Ø±Ø© Ø­Ø³ÙŠÙ† ØµØ¯Ù‚Ù‰</option>
              <option value="29.9760,31.2660">Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„ÙØ§Ø±ÙˆÙ‚</option>
              <option value="29.9770,31.2670">Ù…Ø¨Ø±Ø© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù‰</option>
              <option value="29.9780,31.2680">Ø´ 7</option>
              <option value="30.0286,31.3273">Ø§Ù„Ù…Ù‚Ø·Ù…</option>
              <option value="30.0511,31.3656">Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±</option>
              <option value="30.0059,31.2290">Ù…ØµØ± Ø§Ù„Ù‚Ø¯ÙŠÙ…Ù‡</option>
              <option value="30.0286,31.2267">Ø§Ù„Ù…Ù†ÙŠÙ„</option>
              <option value="29.9000,31.3000">Ø§Ù„Ù…Ø¹ØµØ±Ø©</option>
            </select>
          </div>
        </div>

        <!-- Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ -->
        <div class="form-section">
          <h3><i class="fas fa-credit-card"></i> Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</h3>
          
          <div class="form-group">
            <label for="payment-method">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</label>
            <select id="payment-method">
              <option value="cod">Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… ÙÙ‚Ø·</option>
            </select>
          </div>
        </div>

        <!-- Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ -->
        <div class="form-section">
          <button type="submit" class="submit-btn">Ø£ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ âœ…</button>
        </div>
      </form>
    </div>

    <!-- Ø§Ù„ÙØ§ØªÙˆØ±Ø© -->
    <div class="invoice-box">
      <div class="invoice-header">
        <h2>ğŸ§¾ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</h2>
      </div>
      <div class="invoice-content">
        <div id="invoice">
          <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
        </div>
        <button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©</button>
      </div>
    </div>
  </div>
</div>

<!-- ØªØ¶Ù…ÙŠÙ† Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© -->
<script src="https://cdn.emailjs.com/dist/email.min.js"></script>

<!-- Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„ØµÙØ­Ø© -->
<script>
  // ØªÙ‡ÙŠØ¦Ø© Ø®Ø¯Ù…Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
  emailjs.init("UPtxd1MC2SrpDzWal");

  // Ø«ÙˆØ§Ø¨Øª Ø§Ù„Ø­Ø³Ø§Ø¨
  const vatRate = 0.0;
  const discountRate = 0.1;
  const storeCoords = [29.97325, 31.26739]; // Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…ØªØ¬Ø±

  // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ù„Ø© - Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ø®ØªØ¨Ø§Ø±ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©
  let cart = JSON.parse(localStorage.getItem("cart")) || {};
  
  // Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±: Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©ØŒ Ø£Ø¶Ù Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø¹Ø±Ø¶
  if (Object.keys(cart).length === 0) {
    console.log("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©ØŒ Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ø®ØªØ¨Ø§Ø±ÙŠØ©");
    cart = {
      "1": { id: "1", name: "Ù…Ù†ØªØ¬ ØªØ¬Ø±ÙŠØ¨ÙŠ 1", price: 100, quantity: 2 },
      "2": { id: "2", name: "Ù…Ù†ØªØ¬ ØªØ¬Ø±ÙŠØ¨ÙŠ 2", price: 150, quantity: 1 }
    };
    localStorage.setItem("cart", JSON.stringify(cart));
  }

  // Ø¯Ø§Ù„Ø© Ø­Ø³Ø§Ø¨ ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø­Ù†
  function calculateShippingCost(km) {
    if (km <= 1) return 10;
    return 10 + (km - 1) * 4;
  }

  // Ø¯Ø§Ù„Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ù†Ù‚Ø·ØªÙŠÙ† (Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª GPS) Ø¨Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ±
  function haversineDistance(coords1, coords2) {
    if (!coords1 || !coords2 || coords1.length !== 2 || coords2.length !== 2) {
      return 0;
    }
    
    const [lat1, lon1] = coords1;
    const [lat2, lon2] = coords2;
    
    const toRad = angle => angle * Math.PI / 180;
    const R = 6371; // Ù†ØµÙ Ù‚Ø·Ø± Ø§Ù„Ø£Ø±Ø¶ Ø¨Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ±

    const dLat = toRad(lat2 - lat1);
    const dLon = toRad(lon2 - lon1);

    const a =
      Math.sin(dLat / 2) ** 2 +
      Math.cos(toRad(lat1)) *
        Math.cos(toRad(lat2)) *
        Math.sin(dLon / 2) ** 2;

    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    return R * c;
  }

  // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
  function renderInvoice() {
    const invoiceEl = document.getElementById("invoice");
    
    if (!invoiceEl) {
      console.error("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± Ø§Ù„ÙØ§ØªÙˆØ±Ø©!");
      return;
    }
    
    if (Object.keys(cart).length === 0) {
      invoiceEl.innerHTML = "<p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.</p>";
      return;
    }

    let subtotal = 0;
    let rows = "";

    for (let id in cart) {
      const item = cart[id];
      const totalItem = item.quantity * item.price;
      subtotal += totalItem;

      rows += `
        <tr>
          <td>${item.name}</td>
          <td>${item.quantity}</td>
          <td>${totalItem.toFixed(2)} Ø¬</td>
        </tr>`;
    }

    const discount = subtotal * discountRate;
    const vat = (subtotal - discount) * vatRate;

    // Ø§Ø­Ø³Ø¨ Ø§Ù„Ø´Ø­Ù† Ù…Ù† Ù‚ÙŠÙ…Ø© Ù…Ø­ÙÙˆØ¸Ø© ÙÙŠ localStorage
    const distance = parseFloat(localStorage.getItem("distance_km") || "0");
    const shippingCost = calculateShippingCost(distance);

    const total = subtotal - discount + vat + shippingCost;
    localStorage.setItem("checkoutTotal", total.toFixed(2));

    invoiceEl.innerHTML = `
      <table>
        <thead>
          <tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø³Ø¹Ø±</th></tr>
        </thead>
        <tbody>${rows}</tbody>
      </table>
      <div class="summary">
        <p>ğŸ’µ Ø§Ù„Ù…Ø¨Ù„Øº: ${subtotal.toFixed(2)} Ø¬</p>
        <p>ğŸ Ø§Ù„Ø®ØµÙ… (${discountRate * 100}%): ${discount.toFixed(2)} Ø¬</p>
        <p>ğŸ§¾ Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© (${vatRate * 100}%): ${vat.toFixed(2)} Ø¬</p>
        <p>ğŸšš ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø­Ù† (${distance} ÙƒÙ…): ${shippingCost.toFixed(2)} Ø¬</p>
        <hr>
        <p>ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total.toFixed(2)} Ø¬</p>
      </div>
    `;
  }

  // Ø§Ø³ØªÙ…Ø¹ Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹
  document.getElementById("locationSelect").addEventListener("change", function() {
    const selectedValue = this.value;
    
    if (selectedValue.includes(",")) {
      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚ÙŠÙ…Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙØ§ØµÙ„Ø©ØŒ ÙÙ‡ÙŠ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª
      const coords = selectedValue.split(",").map(Number);
      const distance = haversineDistance(storeCoords, coords);
      localStorage.setItem("distance_km", distance.toFixed(2));
    } else {
      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚ÙŠÙ…Ø© Ù†ØµÙŠØ© (Ø§Ø³Ù… Ù…Ù†Ø·Ù‚Ø©)ØŒ Ù†Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø§ÙØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
      localStorage.setItem("distance_km", "5.00");
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ø¹Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙˆÙ‚Ø¹
    renderInvoice();
  });

  // ØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ø§Ù„Ø¬ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
  document.getElementById("checkout-form").addEventListener("submit", function(e) {
    e.preventDefault();
    


    alert("âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!");
    


    // Ø¬Ø±Ø¨ Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ù„Ù„ØªÙˆØ¬ÙŠÙ‡:
    



    // Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
    window.location.href = "/";
    
    // Ø¥Ø°Ø§ Ù„Ù… ØªØ¹Ù…Ù„ØŒ Ø¬Ø±Ø¨ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©
    // window.location.replace("/");
    
    // Ø¥Ø°Ø§ Ù„Ù… ØªØ¹Ù…Ù„ØŒ Ø¬Ø±Ø¨ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©
    // window.location = "/";
    
    // Ø¥Ø°Ø§ Ù„Ù… ØªØ¹Ù…Ù„ØŒ Ø¬Ø±Ø¨ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©
    // location.href = "/";
  });  // Ø¹Ø±Ø¶ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
  document.addEventListener("DOMContentLoaded", function() {
    // ØªØ¹ÙŠÙŠÙ† Ù…Ø³Ø§ÙØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
    if (!localStorage.getItem("distance_km")) {
      localStorage.setItem("distance_km", "0.00");
    }
    
    renderInvoice();
  });
</script>
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
document.getElementById("checkout-form").addEventListener("submit", function (e) {
  // Ø­Ø°Ù preventDefault (Ø¹Ù„Ø´Ø§Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙŠØªØ¨Ø¹Øª ÙØ¹Ù„ÙŠÙ‹Ø§)
  
  const cart = JSON.parse(localStorage.getItem("cart")) || {};
  const distance = localStorage.getItem("distance_km") || "0";
  const total = localStorage.getItem("checkoutTotal") || "0";

  let details = "";
  for (let id in cart) {
    const item = cart[id];
    details += `â€¢ ${item.name} Ã— ${item.quantity} = ${item.price * item.quantity} Ø¬\n`;
  }

  details += `\nğŸšš ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø­Ù†: ${distance} ÙƒÙ…\nğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬`;

  document.getElementById("orderDetails").value = details;
});
